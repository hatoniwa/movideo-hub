<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>MOVIDEO Hub â€” Pick Your Story</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
  body {
    margin: 0; background: #111; color: #fff;
    font-family: system-ui, sans-serif;
    display: flex; flex-direction: column;
    align-items: center; justify-content: center;
    min-height: 100vh; gap: 12px;
  }
  h1 { color: #ffd54a; font-size: 1.6em; }

  select, button {
    background: #1a1a1a; color: #fff;
    border: 1px solid #333; border-radius: 8px;
    padding: 8px 12px; font-size: 1rem;
    cursor: pointer; margin: 4px;
  }

  button.primary { background: #ffd54a; color: #111; font-weight: bold; }

  iframe {
    width: 90vw;
    max-width: 800px;
    height: calc(90vw * 9 / 16);
    max-height: calc(800px * 9 / 16);
    border: 1px solid #333;
    border-radius: 12px;
    box-shadow: 0 0 20px rgba(255,255,255,0.2);
  }

  footer { margin-top: 10px; font-size: 0.9em; opacity: 0.8; }
</style>
</head>
<body>
<div id="visitCount"
     style="position:absolute; top:10px; right:10px;
     padding:6px 12px; background:#222; color:#ffd54a;
     border-radius:12px; font-size:14px; opacity:0.85;
     z-index:99999;">
  Loading...
</div>  
<div id="visitCount"
     style="position:absolute; top:10px; right:10px;
     padding:6px 12px; background:#222; color:#ffd54a;
     border-radius:12px; font-size:14px; opacity:0.85;
     z-index:99999;">
  Loading...
</div>  
<div id="visitCount"
     style="position:absolute; top:10px; right:10px;
     padding:6px 12px; background:#222; color:#ffd54a; z-index:99999;
     border-radius:12px; font-size:14px; opacity:0.85;">
  Loading...
</div>
<h1>ğŸ¬ MOVIDEO Story Collection</h1>

<div>
  <label>Select a story:
    <select id="pick"></select>
  </label>

  <button id="play" class="primary">â–¶ Play</button>
  <button id="open">ğŸ—— Open in New Tab</button>
  <button id="stop">â¹ Stop</button>
  <button id="fullscreen">â›¶ Fullscreen</button>
</div>

<iframe id="player" allow="autoplay; picture-in-picture" allowfullscreen></iframe>

<footer>
  <button onclick="location.href='end_card.html'">ğŸ›‘ End Game</button>
</footer>
  
  });
</script> 
  <div id="visitCount"
     style="position:absolute; top:10px; right:10px; padding:6px 12px;
            background:#222; color:#ffd54a; border-radius:12px; 
            font-size:14px; opacity:0.85;">
  Loading...
</div>

<script>
fetch('https://api.countapi.xyz/hit/hatoniwa/movideo01')
  .then(res => res.json())
  .then(data => {
    document.getElementById('visitCount').textContent =
      "ğŸ‘ Views: " + data.value;  
<script>
  const items = [
    { label: 'CCMOVID â€” game 10', url: 'https://hatoniwa.github.io/movideo-docks-ccmovid/gg-intro.html' },
    { label: 'BBMOVID â€” Coming Soon', url: 'https://hatoniwa.github.io/movideo-docks-bbmovid/' },
    { label: 'EEMOVID â€” Game 5', url: 'https://hatoniwa.github.io/movideo-docks-eemovid/dcgame_en_voice.html' },
    { label: 'FFMOVID â€” Coming soon', url: 'https://hatoniwa.github.io/movideo-docks-ffmovid/' },
    { label: 'GGMOVID â€” Coming soon', url: 'https://hatoniwa.github.io/movideo-docks-ggmovid/' },

    /* â˜… gameCï¼ˆå®Ÿè¡Œå¯èƒ½URLç‰ˆï¼‰ */
    { label: 'ZZMOVID â€” gameC', url: 'https://hatoniwa.github.io/game-commons/7sec_gameC.html' },

    { label: 'DDMOVID â€” Coming Soon', url: 'https://hatoniwa.github.io/movideo-docks-ddmovid/' }
  ];

  const pick = document.getElementById('pick');
  const player = document.getElementById('player');

  const playBtn = document.getElementById('play');
  const openBtn = document.getElementById('open');
  const stopBtn = document.getElementById('stop');
  const fullscreenBtn = document.getElementById('fullscreen');

  // â–¼ Picker ã®å†…å®¹ã‚’æ§‹ç¯‰
  items.forEach((item, i) => {
    const opt = document.createElement('option');
    opt.value = i;
    opt.textContent = item.label;
    pick.appendChild(opt);
  });

  // â–¼ Playï¼šä½œå“å†ç”Ÿ
  function playSelected() {
    const url = items[Number(pick.value)].url;
    player.src = url;
  }

  // â–¼ åˆ¥ã‚¿ãƒ–ã§é–‹ã
  function openSelected() {
    const url = items[Number(pick.value)].url;
    window.open(url, '_blank');
  }

  // â–¼ Fullscreenï¼šãƒ•ãƒ«ã‚¹ã‚¯ãƒªãƒ¼ãƒ³åˆ‡ã‚Šæ›¿ãˆ
  fullscreenBtn.onclick = () => {
    const iframe = document.getElementById("player");
    if (!document.fullscreenElement) {
      iframe.requestFullscreen().catch(err => console.error(err));
    } else {
      document.exitFullscreen();
    }
  };

  // â–¼ Stopï¼šå®Œå…¨åœæ­¢ï¼‹ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
  function stopPlayer() {

    // 1. ãƒ•ãƒ«ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ä¸­ãªã‚‰è§£é™¤
    if (document.fullscreenElement) {
      document.exitFullscreen();
    }

    // 2. ã‚²ãƒ¼ãƒ ãƒ»å‹•ç”»ã‚’å®Œå…¨åœæ­¢ï¼ˆiframe ã‚’ç ´æ£„ï¼‰
    const oldFrame = document.getElementById("player");
    const newFrame = oldFrame.cloneNode(true);
    oldFrame.parentNode.replaceChild(newFrame, oldFrame);

    // 3. ãƒ”ãƒƒã‚«ãƒ¼ã¾ã§è‡ªå‹•ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
    pick.scrollIntoView({ behavior: "smooth", block: "center" });
  }

  // â–¼ ãƒœã‚¿ãƒ³ã«æ©Ÿèƒ½ã‚’å‰²ã‚Šå½“ã¦
  playBtn.onclick = playSelected;
  openBtn.onclick = openSelected;
  stopBtn.onclick = stopPlayer;

</script>

</body>
</html>
